# avito-task-autumn-2025


## Запуск проекта

### Настройка .env

Из корневой директории проекта выполнить команду

``` bash
cp .env.example .env
```

------------------------------------------------------------------------

Задать значения следующим переменным окружения  

``` env
DB_HOST=my-host
DB_NAME=my-db
DB_USER=my-user
DB_PASSWORD=my-pass

HOST_DB_PORT=my-local-port
```

------------------------------------------------------------------------

### Запуск через Docker

Из корневой директории проекта выполнить команду

``` bash
docker-compose up --build
```

После запуска сервис доступен на http://localhost:8080 

------------------------------------------------------------------------

### Остановка сервиса

Из корневой директории проекта выполнить команды

``` bash
docker-compose down
```

Остановить и удалить volume с БД (полный сброс данных)

``` bash
docker-compose down -v
```

------------------------------------------------------------------------


### Запуск тестов

Только если создавать локальную базу данных. Не успел сделать настройки тестовое окружение.

------------------------------------------------------------------------


## Вопросы и их решения 

### Что делать с PR, при создании которого не нашлось ревьюверов?

Ответ: в сервисе такому PR нельзя присвоить MERGE статус и при использовании /pullRequest/merge вернет "NO_REVIEWERS". Для этого есть возможность добавить одного ревьювера(если есть доступные) через /pullRequest/reassign. В таком случае в теле данного запроса можно указать любой "old_reviewer_id" и ревьювер будет назначен. После данного ревьювера можно переназначить другим одним ревьювером, но второго ревьювера к такому PR назначить не выйдет.

### Что должен вернуть эндпойнт /users/setIsActive при попытке установить тот же статус аактивность, который уже есть у пользователя?

Ответ: следуем идемпотентности - повторный вызов не приводит к ошибке и возвращает актуальное состояние пользователя.

### Как создавать команды и пользователей?

Ответ: /team/add создаст команду и ее пользоватлей. Если  создать команду с таким же названием, то /team/add вернет TEAM_EXISTS. Если создать команду с другим названием, но один из ее пользователей будет с уже существующим user_id, то /team/add вернет "USER_EXISTS".
